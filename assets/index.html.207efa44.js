import{_ as r,r as t,o,c as i,a,b as s,F as l,d as e,e as d}from"./app.e309fa3f.js";const c={},h=a("h1",{id:"deployment",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#deployment","aria-hidden":"true"},"#"),e(" Deployment")],-1),p=e("The "),u={href:"https://login.jvanvliet.com",target:"_blank",rel:"noopener noreferrer"},b=e("Link.com"),m=e(" CRM platform is deployed on a Ubuntu 20.04 LTS / Apache2 VPS."),g=e("Host: "),v={href:"https://www.businessconnect.nl",target:"_blank",rel:"noopener noreferrer"},_=e("Businessconnect"),f=e("."),x=a("h2",{id:"requirements",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#requirements","aria-hidden":"true"},"#"),e(" Requirements")],-1),k=e("Jvanvliet.com is build on "),w={href:"https://laravel.com/docs/9.x/releases",target:"_blank",rel:"noopener noreferrer"},y=e("Laravel"),S=e(" version 9 with "),L={href:"https://jetstream.laravel.com/2.x/introduction.html",target:"_blank",rel:"noopener noreferrer"},V=e("Jetstream/Inertia+Vue"),j=d(`<h2 id="deploying-updates" tabindex="-1"><a class="header-anchor" href="#deploying-updates" aria-hidden="true">#</a> Deploying updates</h2><p>To deploy changes in the vue build, first run:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run production
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Changes to the laravel files require no compiling and should be includes in pull requests.</p><p>Once a pull request is approved, and/or the changes have been pushed to the repo we can start deploying by following the next steps:</p><ol><li><p>SSH into the VPS</p></li><li><p>Move into the production folder by doing:</p></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /var/www/Link
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>Next, pull in the latest changes.</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> pull
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>Last, run the following command to deploy the latest changes and clear the caches (crucial!)</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> ./deploy.sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="5"><li>If no errors, the changes that were pulled in are now live.</li></ol><h2 id="laravel-schedules" tabindex="-1"><a class="header-anchor" href="#laravel-schedules" aria-hidden="true">#</a> Laravel Schedules</h2><p>Current tasks in the Laravel schedule:</p><hr><h2 id="cronjobs" tabindex="-1"><a class="header-anchor" href="#cronjobs" aria-hidden="true">#</a> Cronjobs</h2><p>Currently there are 2 cronjobs running:</p><ol><li>Laravel task scheduling job. This job ensures that Laravel&#39;s task schedular runs every minute.</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>* * * * *  <span class="token builtin class-name">cd</span> /var/www/website <span class="token operator">&amp;&amp;</span> php artisan schedule:run <span class="token operator">&gt;&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="information-about-vps" tabindex="-1"><a class="header-anchor" href="#information-about-vps" aria-hidden="true">#</a> Information about VPS</h2><p>You are able to SSH into the VPS machine, below is the information you&#39;ll need.</p><p>FTP is disabled, if you need to upload files directly use SFTP.</p><h3 id="host-address" tabindex="-1"><a class="header-anchor" href="#host-address" aria-hidden="true">#</a> Host Address</h3><p>Address: vs31021-01.businessconnect.nl</p><p>Port: 22</p><h3 id="credentials" tabindex="-1"><a class="header-anchor" href="#credentials" aria-hidden="true">#</a> Credentials</h3><p>Username : Given during onboarding, or request with your manager.</p><p>Password : Given during onboarding, or request with your manager.</p>`,28);function q(P,C){const n=t("ExternalLinkIcon");return o(),i(l,null,[h,a("p",null,[p,a("a",u,[b,s(n)]),m]),a("p",null,[g,a("a",v,[_,s(n)]),f]),x,a("p",null,[k,a("a",w,[y,s(n)]),S,a("a",L,[V,s(n)])]),j],64)}var I=r(c,[["render",q],["__file","index.html.vue"]]);export{I as default};
